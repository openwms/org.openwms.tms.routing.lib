<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.1 from src/site/markdown/index.md at 2020-04-22
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.1" />
    <title>OpenWMS.org TMS: Routing Services &#x2013; Purpose</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.8.min.js"></script>
  </head>
  <body class="topBarEnabled">
    <a href="https://github.com/openwms/org.openwms.tms.routing">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
    <header id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
            <div class="container">
              <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
              </a>
          <nav class="nav-collapse">
<a class="brand" href="index.html"  title="OpenWMS.org"><img src="images/logo.png" alt="OpenWMS.org" />
</a>
            <ul class="nav">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="index.html" title="Home">Home</a></li>
            <li><a href="rest/1.3.0-SNAPSHOT/api.html" title="REST API Documentation">REST API Documentation</a></li>
            <li><a href="https://openwms.atlassian.net/l/c/6UUBFrWT" title="Confluence Wiki">Confluence Wiki</a></li>
            <li><a href="apidocs/index.html" title="Javadoc">Javadoc</a></li>
            <li><a href="schemaspy/relationships.html" title="Database Schema">Database Schema</a></li>
            <li><a href="https://sonarcloud.io/dashboard?id=org.openwms:org.openwms.tms.routing" title="Sonarcloud">Sonarcloud</a></li>
            <li><a href="jacoco/index.html" title="Jacoco">Jacoco</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="project-info.html" title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                  <li><a href="index.html" title="About">About</a></li>
                  <li><a href="summary.html" title="Summary">Summary</a></li>
                  <li><a href="team.html" title="Team">Team</a></li>
                  <li><a href="issue-management.html" title="Issue Management">Issue Management</a></li>
                  <li><a href="ci-management.html" title="CI Management">CI Management</a></li>
                  <li><a href="scm.html" title="Source Code Management">Source Code Management</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
<a href="project-reports.html" title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                  <li><a href="apidocs/index.html" title="Javadoc">Javadoc</a></li>
                  <li><a href="surefire-report.html" title="Surefire Report">Surefire Report</a></li>
              </ul>
            </li>
        </ul>
      </li>
            </ul>
          </nav>
          <div class="nav-collapse">
          </div>
        </div>
      </div>
    </header>
    <div class="container">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>OpenWMS.org TMS: Routing Services</h2>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-04-22<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.3.0-SNAPSHOT</li>
          </ul>
        </div>
      </header>
        <main id="bodyColumn" >
<section>
<h2><a name="Purpose"></a>Purpose</h2>
<p>The TMS Routing Service is responsible to route incoming messages to the appropriate workflow and finally handle the request message. The workflow is defined as a BMPN conform workflow, with <a class="externalLink" href="https://www.activiti.org">Activiti</a> extensions, and comprises the execution of services in sequence order or in parallel execution steps.</p>
<p>A typical and simple workflow to handle incoming <a class="externalLink" href="https://www.interface21.io/osip">OSIP</a> REQ_ messages could look like this:</p>
<p><img src="images/workflow.png" alt="Workflow" /></p>
<p>(1) Whenever a REQ_ message arrives, the TransportUnit with the given Barcode is booked onto the Location provided in the message.</p>
<p>(2) For the current TransportUnit a TransportOrder is created with the target LocationGroup equals to FGSTOCK.</p>
<p>(3) In the final step the system triggers a service to send an <a class="externalLink" href="https://www.interface21.io/osip">OSIP</a> RES_ message to the underlying subsystem (i.e. PLC or Raspberry Pi) with the next Location coordinate to move the TransportUnit to.</p>
<p>The actual <a class="externalLink" href="https://www.activiti.org">Activiti</a> BPMN snippet looks like this:</p>

<div>
<div>
<pre class="source">    &lt;serviceTask id=&quot;sid-...27D&quot; name=&quot;Book TransportUnit to current Location&quot; activiti:expression=&quot;#{transportUnitApi.updateActualLocation(in.msg.barcode, in.msg.actualLocation)}&quot;&gt;&lt;/serviceTask&gt;
    &lt;serviceTask id=&quot;sid-...B7F&quot; name=&quot;Create TransportOrder to Stock&quot; activiti:expression=&quot;#{transportOrderApi.createTO(&amp;quot;FGSTOCK&amp;quot;)}&quot;&gt;&lt;/serviceTask&gt;
    &lt;serviceTask id=&quot;sid-...C72&quot; name=&quot;Send RES_ to Conveyor location&quot; activiti:expression=&quot;#{responder.sendTo(&amp;quot;FGIN/CONV/0001/0000/0000&amp;quot;)}&quot;&gt;&lt;/serviceTask&gt;
</pre></div></div>

<p>Notice that the flow and the expressions are modelled in <a class="externalLink" href="https://www.activiti.org">Activiti</a> Model Explorer rather than in XML.</p></section><section>
<h2><a name="Resources"></a>Resources</h2>
<p><a class="externalLink" href="https://travis-ci.com/openwms/org.openwms.tms.routing"><img src="https://travis-ci.com/openwms/org.openwms.tms.routing.svg?branch=master" alt="Build status" /></a> <a href="LICENSE"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License" /></a> <a class="externalLink" href="https://sonarcloud.io/dashboard?id=org.openwms:org.openwms.tms.routing"><img src="https://sonarcloud.io/api/project_badges/measure?project=org.openwms:org.openwms.tms.routing&amp;metric=alert_status" alt="Quality" /></a> <a class="externalLink" href="https://gitter.im/openwms/org.openwms?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/openwms/org.openwms" /></a></p></section><section>
<h2><a name="Deployment"></a>Deployment</h2>
<p>This component is a crucial part of the TMS (Transport Management System) and is required in all automated warehouse projects. The microservice is deployed as RTU (ready-to-use) box in following environments:</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> endpoints </th>
<th> billed </th>
<th> SLA </th></tr>
</thead><tbody>

<tr class="b">
<td> <a class="externalLink" href="http://tms-routing-infrastructure.app.gcaas.ch">http://tms-routing-infrastructure.app.gcaas.ch</a> </td>
<td> no </td>
<td> No SLA available, EU-CH region </td></tr>
</tbody>
</table></section><section>
<h2><a name="Benefits"></a>Benefits</h2>
<p>Why did we choose BPMN and <a class="externalLink" href="https://www.activiti.org">Activiti</a>? From the project experience we have, we think that it is important that project consultants as well as business people should realize the project specific parts in BPMN and not in code. Usually after doing several projects an engineer has a library of business functions and can just plug them together in some kind of flow - we&#x2019;ve misused the concept of BPMN for that.</p></section><section>
<h2><a name="Features"></a>Features</h2>
<p>The current implementation allows to reference standard Spring managed beans within BPMN workflows. Remote http accessible microservices can be accessed with support of Feign. Therefor the TMS Routing service needs to have the Feign client interface definitions on the classpath at startup.</p></section>
        </main>
    </div>
    <hr/>
    <footer>
      <div class="container">
        <div class="row">
            <p>Copyright &#169;      2005&#x2013;2020<a href="https://www.interface21.io">Interface21.io</a>.
.</p>
        </div>
        <p id="poweredBy" class="pull-right"><a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
</p>
      </div>
    </footer>
  </body>
</html>